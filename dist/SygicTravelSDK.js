!(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SygicTravelSDK",[],e):"object"==typeof exports?exports.SygicTravelSDK=e():t.SygicTravelSDK=e()})(this,(function(){return (function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=76)})([(function(t,e,n){"use strict";function r(t){return"[object Array]"===P.call(t)}function o(t){return"[object ArrayBuffer]"===P.call(t)}function i(t){return"undefined"!=typeof FormData&&t instanceof FormData}function a(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function u(t){return"string"==typeof t}function s(t){return"number"==typeof t}function c(t){return void 0===t}function l(t){return null!==t&&"object"==typeof t}function f(t){return"[object Date]"===P.call(t)}function p(t){return"[object File]"===P.call(t)}function d(t){return"[object Blob]"===P.call(t)}function h(t){return"[object Function]"===P.call(t)}function y(t){return l(t)&&h(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function w(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||r(t)||(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function g(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=g(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)w(arguments[n],t);return e}function _(t,e,n){return w(e,(function(e,r){t[r]=n&&"function"==typeof e?T(e,n):e})),t}var T=n(14),P=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:o,isFormData:i,isArrayBufferView:a,isString:u,isNumber:s,isObject:l,isUndefined:c,isDate:f,isFile:p,isBlob:d,isFunction:h,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:w,merge:g,extend:_,trim:b}}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57);e.getZoomFromBounds=r.getZoomFromBounds;var o=n(58);e.locationToCanvasCoordinate=o.locationToCanvasCoordinate,e.locationToTileCoordinate=o.locationToTileCoordinate,e.normalizeLng=o.normalizeLng;var i=n(59);e.boundsToMapTileKeys=i.boundsToMapTileKeys;var a=n(60);e.getDistance=a.getDistance,e.EARTH_RADIUS=a.EARTH_RADIUS}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(73);e.axiosInstance=r.axiosInstance,e.get=r.get,e.delete_=r.delete_,e.post=r.post,e.put=r.put;var o=n(21);e.ApiResponse=o.ApiResponse}),(function(t,e,n){var r,o;!(function(i){var a=function(t,e,n){if(!d(e)||y(e)||v(e)||b(e)||p(e))return e;var r,o=0,i=0;if(h(e))for(r=[],i=e.length;o<i;o++)r.push(a(t,e[o],n));else{r={};for(var u in e)e.hasOwnProperty(u)&&(r[t(u,n)]=a(t,e[u],n))}return r},u=function(t,e){e=e||{};var n=e.separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)},s=function(t){return m(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""})),t.substr(0,1).toLowerCase()+t.substr(1))},c=function(t){var e=s(t);return e.substr(0,1).toUpperCase()+e.substr(1)},l=function(t,e){return u(t,e).toLowerCase()},f=Object.prototype.toString,p=function(t){return"function"==typeof t},d=function(t){return t===Object(t)},h=function(t){return"[object Array]"==f.call(t)},y=function(t){return"[object Date]"==f.call(t)},v=function(t){return"[object RegExp]"==f.call(t)},b=function(t){return"[object Boolean]"==f.call(t)},m=function(t){return(t-=0)===t},w=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!=typeof n?t:function(e,r){return n(e,t,r)}};r={camelize:s,decamelize:l,pascalize:c,depascalize:l,camelizeKeys:function(t,e){return a(w(s,e),t)},decamelizeKeys:function(t,e){return a(w(l,e),t,e)},pascalizeKeys:function(t,e){return a(w(c,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o)})()}),(function(t,e,n){"use strict";(function(e){function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function o(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(10):void 0!==e&&(t=n(10)),t}var i=n(0),a=n(38),u=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},c={adapter:o(),transformRequest:[function(t,e){return a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(u,"");try{t=JSON.parse(t)}catch(t){}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(s)})),t.exports=c}).call(e,n(43))}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51);e.placesDetailedCache=new r.InMemoryCache,e.tripsDetailedCache=new r.InMemoryCache,e.routesCache=new r.InMemoryCache}),(function(t,e,n){"use strict";function r(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.getPlaces(t)];case 1:return[2,e.sent()]}}))}))}function o(t,e){return u(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,c.getPlaceDetailed(t,e)];case 1:return[2,n.sent()]}}))}))}function i(t,e){return u(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,c.getPlaceDetailedBatch(t,e)];case 1:return[2,n.sent()]}}))}))}function a(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.getPlaceMedia(t)];case 1:return[2,e.sent()]}}))}))}var u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var c=n(61);e.Dao=c;var l=n(62);e.PlacesFilter=l.PlacesFilter,e.getPlaces=r,e.getPlaceDetailed=o,e.getPlaceDetailedBatch=i,e.getPlaceMedia=a}),(function(t,e,n){"use strict";function r(t,e){return o(this,void 0,void 0,(function(){var n,r,o,c;return i(this,(function(i){switch(i.label){case 0:return[4,u.Dao.getTripDetailed(t)];case 1:if(null===(n=i.sent()))throw new Error("Trip not found.");if(!n.days||!n.days[e])throw new Error("Trip does not have day on index "+e);return r=n.days[e],o=r.itinerary.map((function(t){return t.placeId})),[4,a.Dao.getPlaceDetailedBatch(o,"100x100")];case 2:return c=i.sent(),[2,s.getRoutes(f(c,r))]}}))}))}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),u=n(20),s=n(64),c=n(66);e.Mapper=c;var l=n(67);e.ModeSelector=l,e.getRoutesForTripDay=r;var f=function(t,e){return e.itinerary.reduce((function(n,r,o){if(!o)return n;var i=e.itinerary[o-1],a=t.find((function(t){return t.id===i.placeId})),u=t.find((function(t){return t.id===r.placeId}));if(!u||!a)throw new Error("Place not found!");return n.push(c.createRouteRequest(r,u.location,a.location)),n}),[])}}),(function(t,e,n){"use strict";function r(t,e){c=t,l=e}function o(t,e){if(t&&e)throw Error("Can't set session with both key and token.");f=t,p=e}function i(){return c}function a(){return l}function u(){return f}function s(){return p}Object.defineProperty(e,"__esModule",{value:!0});var c,l,f,p;e.setEnvironment=r,e.setUserSession=o,e.getApiUrl=i,e.getClientKey=a,e.getApiKey=u,e.getAccessToken=s}),(function(t,e,n){"use strict";function r(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),a(n)}function o(t,e){var n=new Date(t);return n.setDate(n.getDate()-e),a(n)}function i(t){return t.reduce((function(t,e){return t[e]=e,t}),Object.create(null))}function a(t){var e=("0"+t.getDate()).slice(-2),n=("0"+(t.getMonth()+1)).slice(-2);return[t.getFullYear().toString(),n,e].join("-")}Object.defineProperty(e,"__esModule",{value:!0}),e.addDaysToDate=r,e.subtractDaysFromDate=o,e.listToEnum=i}),(function(t,e,n){"use strict";var r=n(0),o=n(30),i=n(33),a=n(39),u=n(37),s=n(13),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(32);t.exports=function(t){return new Promise(function(e,l){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||u(t.url)||(d=new window.XDomainRequest,h="onload",y=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",b=t.auth.password||"";p.Authorization="Basic "+c(v+":"+b)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[h]=function(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null;o(e,l,{data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d}),d=null}},d.onerror=function(){l(s("Network Error",t)),d=null},d.ontimeout=function(){l(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED")),d=null},r.isStandardBrowserEnv()){var m=n(35),w=(t.withCredentials||u(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;w&&(p[t.xsrfHeaderName]=w)}if("setRequestHeader"in d&&r.forEach(p,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(t){if("json"!==d.responseType)throw t}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),l(t),d=null)})),void 0===f&&(f=null),d.send(f)})}}),(function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r}),(function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}}),(function(t,e,n){"use strict";var r=n(29);t.exports=function(t,e,n,o){return r(new Error(t),e,n,o)}}),(function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}}),(function(t,e,n){(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function u(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function s(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function c(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function p(t,e){return function(n){return t(e(n))}}function d(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function y(){this.__data__=Ue?Ue(null):{}}function v(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(Ue){var n=e[t];return n===Ct?void 0:n}return we.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Ue?void 0!==e[t]:we.call(e,t)}function w(t,e){return this.__data__[t]=Ue&&void 0===e?Ct:e,this}function g(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(){this.__data__=[]}function T(t){var e=this.__data__,n=z(e,t);return!(n<0||(n==e.length-1?e.pop():Ae.call(e,n,1),0))}function P(t){var e=this.__data__,n=z(e,t);return n<0?void 0:e[n][1]}function x(t){return z(this.__data__,t)>-1}function j(t,e){var n=this.__data__,r=z(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function D(){this.__data__={hash:new h,map:new(Ie||g),string:new h}}function A(t){return at(this,t).delete(t)}function C(t){return at(this,t).get(t)}function S(t){return at(this,t).has(t)}function M(t,e){return at(this,t).set(t,e),this}function E(t){this.__data__=new g(t)}function I(){this.__data__=new g}function R(t){return this.__data__.delete(t)}function F(t){return this.__data__.get(t)}function k(t){return this.__data__.has(t)}function U(t,e){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!Ie||r.length<At-1)return r.push([t,e]),this;n=this.__data__=new O(r)}return n.set(t,e),this}function L(t,e){var n=$e(t)||mt(t)?s(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!we.call(t,i)||o&&("length"==i||ft(i,r))||n.push(i);return n}function B(t,e,n){var r=t[e];we.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function z(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function q(t,e){return t&&rt(e,jt(e),t)}function N(t,e,n,r,o,a,u){var s;if(r&&(s=a?r(t,o,a,u):r(t)),void 0!==s)return s;if(!Pt(t))return t;var c=$e(t);if(c){if(s=st(t),!e)return nt(t,s)}else{var f=We(t),p=f==Rt||f==Ft;if(Xe(t))return X(t,e);if(f==Lt||f==Mt||p&&!a){if(l(t))return a?t:{};if(s=ct(p?{}:t),!e)return ot(t,q(s,t))}else{if(!ae[f])return a?t:{};s=lt(t,f,N,e)}}u||(u=new E);var d=u.get(t);if(d)return d;if(u.set(t,s),!c)var h=n?it(t):jt(t);return i(h||t,(function(o,i){h&&(i=o,o=t[i]),B(s,i,N(o,e,n,r,i,t,u))})),s}function K(t){return Pt(t)?Oe(t):{}}function G(t,e,n){var r=e(t);return $e(t)?r:a(r,n(t))}function H(t){return ge.call(t)}function W(t){return!(!Pt(t)||dt(t))&&(_t(t)||l(t)?_e:oe).test(yt(t))}function $(t){if(!ht(t))return Me(t);var e=[];for(var n in Object(t))we.call(t,n)&&"constructor"!=n&&e.push(n);return e}function X(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function J(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function V(t,e){var n=e?J(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Z(t,e,n){return u(e?n(f(t),!0):f(t),r,new t.constructor)}function Q(t){var e=new t.constructor(t.source,re.exec(t));return e.lastIndex=t.lastIndex,e}function Y(t,e,n){return u(e?n(d(t),!0):d(t),o,new t.constructor)}function tt(t){return Ge?Object(Ge.call(t)):{}}function et(t,e){var n=e?J(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;B(n,a,void 0===u?t[a]:u)}return n}function ot(t,e){return rt(t,He(t),e)}function it(t){return G(t,jt,He)}function at(t,e){var n=t.__data__;return pt(e)?n["string"==typeof e?"string":"hash"]:n.map}function ut(t,e){var n=c(t,e);return W(n)?n:void 0}function st(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&we.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ct(t){return"function"!=typeof t.constructor||ht(t)?{}:K(je(t))}function lt(t,e,n,r){var o=t.constructor;switch(e){case Ht:return J(t);case Et:case It:return new o(+t);case Wt:return V(t,r);case $t:case Xt:case Jt:case Vt:case Zt:case Qt:case Yt:case te:case ee:return et(t,r);case kt:return Z(t,r,n);case Ut:case Nt:return new o(t);case zt:return Q(t);case qt:return Y(t,r,n);case Kt:return tt(t)}}function ft(t,e){return!!(e=null==e?St:e)&&("number"==typeof t||ie.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function dt(t){return!!be&&be in t}function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ye)}function yt(t){if(null!=t){try{return me.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vt(t){return N(t,!0,!0)}function bt(t,e){return t===e||t!==t&&e!==e}function mt(t){return gt(t)&&we.call(t,"callee")&&(!De.call(t,"callee")||ge.call(t)==Mt)}function wt(t){return null!=t&&Tt(t.length)&&!_t(t)}function gt(t){return xt(t)&&wt(t)}function _t(t){var e=Pt(t)?ge.call(t):"";return e==Rt||e==Ft}function Tt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=St}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function xt(t){return!!t&&"object"==typeof t}function jt(t){return wt(t)?L(t):$(t)}function Ot(){return[]}function Dt(){return!1}var At=200,Ct="__lodash_hash_undefined__",St=9007199254740991,Mt="[object Arguments]",Et="[object Boolean]",It="[object Date]",Rt="[object Function]",Ft="[object GeneratorFunction]",kt="[object Map]",Ut="[object Number]",Lt="[object Object]",Bt="[object Promise]",zt="[object RegExp]",qt="[object Set]",Nt="[object String]",Kt="[object Symbol]",Gt="[object WeakMap]",Ht="[object ArrayBuffer]",Wt="[object DataView]",$t="[object Float32Array]",Xt="[object Float64Array]",Jt="[object Int8Array]",Vt="[object Int16Array]",Zt="[object Int32Array]",Qt="[object Uint8Array]",Yt="[object Uint8ClampedArray]",te="[object Uint16Array]",ee="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,re=/\w*$/,oe=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,ae={};ae[Mt]=ae["[object Array]"]=ae[Ht]=ae[Wt]=ae[Et]=ae[It]=ae[$t]=ae[Xt]=ae[Jt]=ae[Vt]=ae[Zt]=ae[kt]=ae[Ut]=ae[Lt]=ae[zt]=ae[qt]=ae[Nt]=ae[Kt]=ae[Qt]=ae[Yt]=ae[te]=ae[ee]=!0,ae["[object Error]"]=ae[Rt]=ae[Gt]=!1;var ue="object"==typeof t&&t&&t.Object===Object&&t,se="object"==typeof self&&self&&self.Object===Object&&self,ce=ue||se||Function("return this")(),le="object"==typeof e&&e&&!e.nodeType&&e,fe=le&&"object"==typeof n&&n&&!n.nodeType&&n,pe=fe&&fe.exports===le,de=Array.prototype,he=Function.prototype,ye=Object.prototype,ve=ce["__core-js_shared__"],be=(function(){var t=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),me=he.toString,we=ye.hasOwnProperty,ge=ye.toString,_e=RegExp("^"+me.call(we).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=pe?ce.Buffer:void 0,Pe=ce.Symbol,xe=ce.Uint8Array,je=p(Object.getPrototypeOf,Object),Oe=Object.create,De=ye.propertyIsEnumerable,Ae=de.splice,Ce=Object.getOwnPropertySymbols,Se=Te?Te.isBuffer:void 0,Me=p(Object.keys,Object),Ee=ut(ce,"DataView"),Ie=ut(ce,"Map"),Re=ut(ce,"Promise"),Fe=ut(ce,"Set"),ke=ut(ce,"WeakMap"),Ue=ut(Object,"create"),Le=yt(Ee),Be=yt(Ie),ze=yt(Re),qe=yt(Fe),Ne=yt(ke),Ke=Pe?Pe.prototype:void 0,Ge=Ke?Ke.valueOf:void 0;h.prototype.clear=y,h.prototype.delete=v,h.prototype.get=b,h.prototype.has=m,h.prototype.set=w,g.prototype.clear=_,g.prototype.delete=T,g.prototype.get=P,g.prototype.has=x,g.prototype.set=j,O.prototype.clear=D,O.prototype.delete=A,O.prototype.get=C,O.prototype.has=S,O.prototype.set=M,E.prototype.clear=I,E.prototype.delete=R,E.prototype.get=F,E.prototype.has=k,E.prototype.set=U;var He=Ce?p(Ce,Object):Ot,We=H;(Ee&&We(new Ee(new ArrayBuffer(1)))!=Wt||Ie&&We(new Ie)!=kt||Re&&We(Re.resolve())!=Bt||Fe&&We(new Fe)!=qt||ke&&We(new ke)!=Gt)&&(We=function(t){var e=ge.call(t),n=e==Lt?t.constructor:void 0,r=n?yt(n):void 0;if(r)switch(r){case Le:return Wt;case Be:return kt;case ze:return Bt;case qe:return qt;case Ne:return Gt}return e});var $e=Array.isArray,Xe=Se||Dt;n.exports=vt}).call(e,n(74),n(75)(t))}),(function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(r[t]=n);void 0===r[t]&&(r[t]={}),r[t][e[1]]=n};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){if(void 0===n[t])return void(n[t]=e);n[t]=[].concat(n[t],e)}}}function i(t,e){return e.encode?e.strict?u(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"==typeof t?a(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}var u=n(47),s=n(41);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){e=s({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)})),Object.keys(r).sort().reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=a(n):t[e]=n,t}),Object.create(null))):r},e.stringify=function(t,e){e=s({encode:!0,strict:!0,arrayFormat:"none"},e);var n=r(e);return t?Object.keys(t).sort().map((function(r){var o=t[r];if(void 0===o)return"";if(null===o)return i(r,e);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(t){void 0!==t&&a.push(n(r,t,a.length))})),a.join("&")}return i(r,e)+"="+i(o,e)})).filter((function(t){return t.length>0})).join("&"):""}}),(function(t,e,n){"use strict";function r(t,e){var n=o.getZoomFromBounds(t,e.width);return[{radius:29,margin:10,name:"popular",photoRequired:!0,minimalRating:.3},{radius:22,margin:5,name:"big",photoRequired:!0,minimalRating:n<10?.001:0},{radius:10,margin:5,name:"medium",photoRequired:!1,minimalRating:n<10?.001:0},{radius:4,margin:5,name:"small",photoRequired:!1,minimalRating:n<10?.001:0}]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.getConfig=r}),(function(t,e,n){"use strict";function r(t,e){return t.days&&t.days.forEach((function(t){return t.itinerary.forEach((function(t){var n=e.filter((function(e){return e.id===t.placeId}));n.length>0&&(t.place=n[0])}))})),t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(19);e.mapTripListApiResponseToTripsList=function(t){return t.map((function(t){return e.mapTrip(t,null)}))},e.mapTripDetailedApiResponseToTrip=function(t){return e.mapTrip(t,a(t))},e.mapTrip=function(t,e){return{id:t.id,ownerId:t.owner_id,privacyLevel:t.privacy_level,name:t.name,version:t.version,startsOn:t.starts_on,endsOn:t.ends_on,updatedAt:t.updated_at,isDeleted:t.is_deleted,url:t.url,media:o.camelizeKeys(t.media),privileges:o.camelizeKeys(t.privileges),days:i.decorateDaysWithDate(t.starts_on,e)}};var a=function(t){return t.days.map((function(t){return{note:t.note,date:null,itinerary:t.itinerary.map((function(t){return{placeId:t.place_id,startTime:t.start_time,duration:t.duration,note:t.note,transportFromPrevious:t.transport_from_previous?{mode:t.transport_from_previous.mode,type:t.transport_from_previous.type,avoid:t.transport_from_previous.avoid,startTime:t.transport_from_previous.start_time,duration:t.transport_from_previous.duration,note:t.transport_from_previous.note,waypoints:t.transport_from_previous.waypoints.map((function(t){return{location:t}}))}:null}}))}}))};e.putPlacesToTrip=r,e.mapTripToApiResponse=function(t){return{id:t.id,owner_id:t.ownerId,privacy_level:t.privacyLevel,name:t.name,version:t.version,starts_on:t.startsOn,ends_on:t.endsOn,updated_at:t.updatedAt,is_deleted:t.isDeleted,url:t.url,media:o.decamelizeKeys(t.media),privileges:o.decamelizeKeys(t.privileges),days:t.days&&t.days.map((function(t){return{note:t.note,itinerary:t.itinerary.map((function(t){return{place_id:t.placeId,start_time:t.startTime,duration:t.duration,note:t.note,transport_from_previous:t.transportFromPrevious?{mode:t.transportFromPrevious.mode,type:t.transportFromPrevious.type,avoid:t.transportFromPrevious.avoid,start_time:t.transportFromPrevious.startTime,duration:t.transportFromPrevious.duration,note:t.transportFromPrevious.note,waypoints:t.transportFromPrevious.waypoints}:null}}))}}))}}}),(function(t,e,n){"use strict";function r(t,e){return e?e.map((function(e,n){return e.date=t?o.addDaysToDate(t,n):null,e})):null}Object.defineProperty(e,"__esModule",{value:!0});var o=n(9);e.decorateDaysWithDate=r}),(function(t,e,n){"use strict";function r(t,e){return y(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return[4,m.getTrips(e,t)];case 1:return[2,n.sent()]}}))}))}function o(t){return y(this,void 0,void 0,(function(){var e,n,r,o;return v(this,(function(a){switch(a.label){case 0:return[4,m.getTripDetailed(t)];case 1:return e=a.sent(),e.days?(n=i(e),r=g.putPlacesToTrip,o=[e],[4,b.getPlaceDetailedBatch(n,"300x300")]):[3,3];case 2:return[2,r.apply(void 0,o.concat([a.sent()]))];case 3:return[2,e]}}))}))}function i(t){if(!t.days)return[];var e=[];return t.days.reduce((function(t,e){return t.concat(e.itinerary.map((function(t){return t.placeId})))}),e)}function a(t,e){return y(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return[4,o(t)];case 1:return n=r.sent(),e.name&&(n.name=e.name),e.startsOn&&(n.startsOn=e.startsOn),e.privacyLevel&&(n.privacyLevel=e.privacyLevel),[4,m.updateTrip(n)];case 2:return[2,r.sent()]}}))}))}function u(t){return y(this,void 0,void 0,(function(){var e,n,r,i;return v(this,(function(a){switch(a.label){case 0:return n=(e=m).updateTrip,i=(r=w).addDay,[4,o(t)];case 1:return[2,n.apply(e,[i.apply(r,[a.sent()])])]}}))}))}function s(t){return y(this,void 0,void 0,(function(){var e,n,r,i;return v(this,(function(a){switch(a.label){case 0:return n=(e=m).updateTrip,i=(r=w).prependDayToTrip,[4,o(t)];case 1:return[2,n.apply(e,[i.apply(r,[a.sent()])])]}}))}))}function c(t,e){return y(this,void 0,void 0,(function(){var n,r,i,a;return v(this,(function(u){switch(u.label){case 0:return r=(n=m).updateTrip,a=(i=w).removeDayFromTrip,[4,o(t)];case 1:return[2,r.apply(n,[a.apply(i,[u.sent(),e])])]}}))}))}function l(t,e,n){return y(this,void 0,void 0,(function(){var r,i,a,u;return v(this,(function(s){switch(s.label){case 0:return i=(r=m).updateTrip,u=(a=w).swapDaysInTrip,[4,o(t)];case 1:return[2,i.apply(r,[u.apply(a,[s.sent(),e,n])])]}}))}))}function f(t,e,n,r){return y(this,void 0,void 0,(function(){var i,a,u,s;return v(this,(function(c){switch(c.label){case 0:return a=(i=m).updateTrip,s=(u=w).setTransport,[4,o(t)];case 1:return[2,a.apply(i,[s.apply(u,[c.sent(),e,n,r])])]}}))}))}function p(t,e,n,r){return y(this,void 0,void 0,(function(){var i,a,u,s;return v(this,(function(c){switch(c.label){case 0:return a=(i=m).updateTrip,s=(u=w).movePlaceInDay,[4,o(t)];case 1:return[2,a.apply(i,[s.apply(u,[c.sent(),e,n,r])])]}}))}))}function d(t,e,n){return y(this,void 0,void 0,(function(){var r,i,a,u;return v(this,(function(s){switch(s.label){case 0:return i=(r=m).updateTrip,u=(a=w).removePlaceFromDay,[4,o(t)];case 1:return[2,i.apply(r,[u.apply(a,[s.sent(),e,n])])]}}))}))}function h(t,e,n,r){return y(this,void 0,void 0,(function(){var i,a,u,s,c;return v(this,(function(l){switch(l.label){case 0:return a=(i=m).updateTrip,s=(u=w).addPlaceToDay,[4,o(t)];case 1:return c=[l.sent()],[4,b.getPlaceDetailed(e,"300x300")];case 2:return[2,a.apply(i,[s.apply(u,c.concat([l.sent(),n,r]))])]}}))}))}var y=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},v=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var b=n(6),m=n(70);e.Dao=m;var w=n(71),g=n(18),_=n(72);e.isTransportAvoid=_.isTransportAvoid,e.isTransportMode=_.isTransportMode,e.isTransportType=_.isTransportType,e.getTrips=r,e.getTripDetailed=o,e.getPlacesIdsFromTrip=i,e.updateTrip=a,e.addDayToTrip=u,e.prependDayToTrip=s,e.removeDayFromTrip=c,e.swapDaysInTrip=l,e.setTransport=f,e.movePlaceInDay=p,e.removePlaceFromDay=d,e.addPlaceToDay=h}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(function(){function t(t,e){this._statusCode=t,this._data=e}return Object.defineProperty(t.prototype,"statusCode",{get:function(){return this._statusCode},set:function(t){this._statusCode=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t})();e.ApiResponse=r}),(function(t,e,n){"use strict";var r=this&&this.__extends||(function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(e,"__esModule",{value:!0});var o=n(50),i=n(56),a=n(6),u=n(7),s=n(8),c=n(69),l=n(20),f=n(54),p=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setUserSession=function(t,e){return s.setUserSession(t,e)},e.prototype.getPlaces=function(t){return a.getPlaces(new a.PlacesFilter(t))},e.prototype.getPlaceDetailed=function(t,e){return a.getPlaceDetailed(t,e)},e.prototype.getPlaceMedia=function(t){return a.getPlaceMedia(t)},e.prototype.spreadPlacesOnMap=function(t,e,n,r){return c.spread(t,e,n,r)},e.prototype.getRoutesForTripDay=function(t,e){return u.getRoutesForTripDay(t,e)},e.prototype.getTrips=function(t,e){return l.getTrips(t,e)},e.prototype.getTripDetailed=function(t){return l.getTripDetailed(t)},e.prototype.updateTrip=function(t,e){return l.updateTrip(t,e)},e.prototype.addPlaceToFavorites=function(t){return i.addPlaceToFavorites(t)},e.prototype.addCustomPlaceToFavorites=function(t,e,n){return i.addCustomPlaceToFavorites(t,e,n)},e.prototype.getFavoritesIds=function(){return i.getFavoritesIds()},e.prototype.removePlaceFromFavorites=function(t){return i.removePlaceFromFavorites(t)},e.prototype.addDayToTrip=function(t){return l.addDayToTrip(t)},e.prototype.prependDayToTrip=function(t){return l.prependDayToTrip(t)},e.prototype.removeDayFromTrip=function(t,e){return l.removeDayFromTrip(t,e)},e.prototype.swapDaysInTrip=function(t,e,n){return l.swapDaysInTrip(t,e,n)},e.prototype.movePlaceInDay=function(t,e,n,r){return l.movePlaceInDay(t,e,n,r)},e.prototype.removePlaceFromDay=function(t,e,n){return l.removePlaceFromDay(t,e,n)},e.prototype.addPlaceToDay=function(t,e,n,r){return l.addPlaceToDay(t,e,n,r)},e.prototype.setTransport=function(t,e,n,r){return l.setTransport(t,e,n,r)},e.prototype.followTrip=function(t){return f.followTrip(t)},e.prototype.unfollowTrip=function(t){return f.unfollowTrip(t)},e.prototype.addTripCollaboration=function(t,e,n){return f.addTripCollaboration(t,e,n)},e.prototype.getTripCollaborations=function(t){return f.getTripCollaborations(t)},e.prototype.removeTripCollaboration=function(t){return f.removeTripCollaboration(t)},e.prototype.acceptTripCollaboration=function(t,e){return f.acceptTripCollaboration(t,e)},e.prototype.resendInvitation=function(t){return f.resendInvitation(t)},e})(o.BaseSDK);e.default=p}),(function(t,e,n){t.exports=n(24)}),(function(t,e,n){"use strict";function r(t){var e=new a(t),n=i(a.prototype.request,e);return o.extend(n,a.prototype,e),o.extend(n,e),n}var o=n(0),i=n(14),a=n(26),u=n(4),s=r(u);s.Axios=a,s.create=function(t){return r(o.merge(u,t))},s.Cancel=n(11),s.CancelToken=n(25),s.isCancel=n(12),s.all=function(t){return Promise.all(t)},s.spread=n(40),t.exports=s,t.exports.default=s}),(function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t((function(t){n.reason||(n.reason=new o(t),e(n.reason))}))}var o=n(11);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r}),(function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new a,response:new a}}var o=n(4),i=n(0),a=n(27),u=n(28),s=n(36),c=n(34);r.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(o,this.defaults,{method:"get"},t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url));var e=[u,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head"],(function(t){r.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){r.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=r}),(function(t,e,n){"use strict";function r(){this.handlers=[]}var o=n(0);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r}),(function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var o=n(0),i=n(31),a=n(12),u=n(4);t.exports=function(t){return r(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||u.adapter)(t).then((function(e){return r(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(r(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}}),(function(t,e,n){"use strict";t.exports=function(t,e,n,r){return t.config=e,n&&(t.code=n),t.response=r,t}}),(function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n)):t(n)}}),(function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}}),(function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}function o(t){for(var e,n,o=String(t),a="",u=0,s=i;o.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&e>>8-u%1*8)){if((n=o.charCodeAt(u+=.75))>255)throw new r;e=e<<8|n}return a}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=o}),(function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(0);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(o.isURLSearchParams(e))i=e.toString();else{var a=[];o.forEach(e,(function(t,e){null!==t&&void 0!==t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,(function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),i=a.join("&")}return i&&(t+=(t.indexOf("?")===-1?"?":"&")+i),t}}),(function(t,e,n){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}}),(function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?(function(){return{write:function(t,e,n,o,i,a){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}})():(function(){return{write:function(){},read:function(){return null},remove:function(){}}})()}),(function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}}),(function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?(function(){function t(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(n){var o=r.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}})():(function(){return function(){return!0}})()}),(function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}}),(function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),(function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)})),i):i}}),(function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}),(function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(t,e){for(var n,o,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(s[l]=n[l]);if(i){o=i(n);for(var f=0;f<o.length;f++)u.call(n,o[f])&&(s[o[f]]=n[o[f]])}}return s}}),(function(t,e,n){"use strict";function r(t,e){t=Math.round(t*e),(t<<=1)<0&&(t=~t);for(var n="";t>=32;)n+=String.fromCharCode(63+(32|31&t)),t>>=5;return n+=String.fromCharCode(t+63)}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice().reverse());return e}var i={};i.decode=function(t,e){for(var n,r,o=0,i=0,a=0,u=[],s=0,c=0,l=null,f=Math.pow(10,e||5);o<t.length;){l=null,s=0,c=0;do{l=t.charCodeAt(o++)-63,c|=(31&l)<<s,s+=5}while(l>=32);n=1&c?~(c>>1):c>>1,s=c=0;do{l=t.charCodeAt(o++)-63,c|=(31&l)<<s,s+=5}while(l>=32);r=1&c?~(c>>1):c>>1,i+=n,a+=r,u.push([i/f,a/f])}return u},i.encode=function(t,e){if(!t.length)return"";for(var n=Math.pow(10,e||5),o=r(t[0][0],n)+r(t[0][1],n),i=1;i<t.length;i++){var a=t[i],u=t[i-1];o+=r(a[0]-u[0],n),o+=r(a[1]-u[1],n)}return o},i.fromGeoJSON=function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return i.encode(o(t.coordinates),e)},i.toGeoJSON=function(t,e){return{type:"LineString",coordinates:o(i.decode(t,e))}},"object"==typeof t&&t.exports&&(t.exports=i)}),(function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):v=-1,h.length&&u())}function u(){if(!y){var t=o(a);y=!0;for(var e=h.length;e;){for(d=h,h=[];++v<e;)d&&d[v].run();v=-1,e=h.length}d=null,y=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!(function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}})();var d,h=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}),(function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var u=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=t.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,p,d,h,y=t[l].replace(u,"%20"),v=y.indexOf(n);v>=0?(f=y.substr(0,v),p=y.substr(v+1)):(f=y,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}),(function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),(function(a){var u=encodeURIComponent(o(a))+n;return i(t[a])?r(t[a],(function(t){return u+encodeURIComponent(o(t))})).join(e):u+encodeURIComponent(o(t[a]))})).join(e):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}}),(function(t,e,n){"use strict";e.decode=e.parse=n(44),e.encode=e.stringify=n(45)}),(function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}}),(function(t,e,n){"use strict";function r(t){return t.mapSpread?c(t):s.get("places/list?"+t.toQueryString())}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},a=this;Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),s=n(2);e.getPlaces=r;var c=function(t){return o(a,void 0,void 0,(function(){var e,n,r,a,c,l,f,p,d=this;return i(this,(function(h){switch(h.label){case 0:for(e=u.boundsToMapTileKeys(t.bounds,t.zoom),n=[],r=function(e){var r=t.cloneSetBounds(null);r=r.cloneSetLimit(32),r=r.cloneSetMapTile(e);var a=new Promise(function(t){return o(d,void 0,void 0,(function(){var e,n;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=t,[4,s.get("places/list?"+r.toQueryString())];case 1:return e.apply(void 0,[o.sent()]),[3,3];case 2:return n=o.sent(),t(new s.ApiResponse(200,{places:[]})),[3,3];case 3:return[2]}}))}))});n.push(a)},a=0,c=e;a<c.length;a++)l=c[a],r(l);return[4,Promise.all(n)];case 1:return f=h.sent(),p=f.reduce((function(t,e){return t.statusCode=e.statusCode,t.data.places=t.data.places.concat(e.data.places),t}),new s.ApiResponse(200,{places:[]})),p.data.places=p.data.places.sort((function(t,e){return t.rating>e.rating?-1:1})),[2,p]}}))}))}}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48);e.getPlaces=r.getPlaces}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=(function(){function t(t,e){r.setEnvironment(t,e)}return t})();e.BaseSDK=o}),(function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),a=(function(){function t(){this.cache={}}return t.prototype.set=function(t,e){return r(this,void 0,void 0,(function(){return o(this,(function(n){return this.cache[t]=null!==e&&"object"==typeof e?i(e):e,[2]}))}))},t.prototype.get=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){return e=this.cache[t],e?[2,"object"==typeof e?i(e):e]:[2,null]}))}))},t.prototype.getBatch=function(t){var e=this;return Promise.all(t.map((function(t){return e.get(t)})))},t.prototype.getBatchMap=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.getBatch(t)];case 1:return e=n.sent(),[2,e.reduce((function(e,n,r){return e.set(t[r],n)}),new Map)]}}))}))},t.prototype.remove=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return delete this.cache[t],[2]}))}))},t.prototype.reset=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.cache={},[2]}))}))},t})();e.InMemoryCache=a}),(function(t,e,n){"use strict";function r(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,d.post("trip/"+t+"/subscription",null)];case 1:return e.sent(),[2]}}))}))}function o(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,d.delete_("trip/"+t+"/subscription",null)];case 1:return e.sent(),[2]}}))}))}function i(t){return f(this,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:return[4,d.get("trip/"+t+"/collaborations")];case 1:if(e=n.sent(),!e.data.hasOwnProperty("collaborations"))throw new Error("Wrong API response");return[2,h.mapTripCollaborationsApiResponseToCollaborations(e.data.collaborations)]}}))}))}function a(t,e,n){return f(this,void 0,void 0,(function(){return p(this,(function(r){switch(r.label){case 0:return[4,d.post("trip-collaborations",{trip_guid:t,user_email:e,access_level:n})];case 1:return r.sent(),[2]}}))}))}function u(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,d.delete_("/trip-collaborations/"+t,null)];case 1:return e.sent(),[2]}}))}))}function s(t,e){return f(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,d.put("/trip-collaborations/"+t,{access_level:e})];case 1:return n.sent(),[2]}}))}))}function c(t,e){return f(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,d.put("/trip-collaborations/"+t+"/accept",{hash:e})];case 1:return n.sent(),[2]}}))}))}function l(t){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,d.post("/trip-collaborations/"+t+"/resend-email",null)];case 1:return e.sent(),[2]}}))}))}var f=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var d=n(2),h=n(53);e.followTrip=r,e.unfollowTrip=o,e.getTripCollaborations=i,e.addTripCollaboration=a,e.removeTripCollaboration=u,e.updateTripCollaboration=s,e.acceptTripCollaboration=c,e.resendInvitation=l}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.mapTripCollaborationsApiResponseToCollaborations=function(t){return t.map((function(t){return r.camelizeKeys(t)}))}}),(function(t,e,n){"use strict";function r(t){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,p.followTrip(t)]}))}))}function o(t){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,p.unfollowTrip(t)]}))}))}function i(t){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,p.getTripCollaborations(t)]}))}))}function a(t,e,n){return l(this,void 0,void 0,(function(){return f(this,(function(r){return[2,p.addTripCollaboration(t,e,n)]}))}))}function u(t){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,p.removeTripCollaboration(t)]}))}))}function s(t,e){return l(this,void 0,void 0,(function(){return f(this,(function(n){return[2,p.acceptTripCollaboration(t,e)]}))}))}function c(t){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,p.resendInvitation(t)]}))}))}var l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var p=n(52);e.followTrip=r,e.unfollowTrip=o,e.getTripCollaborations=i,e.addTripCollaboration=a,e.removeTripCollaboration=u,e.acceptTripCollaboration=s,e.resendInvitation=c}),(function(t,e,n){"use strict";function r(){return u(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,c.get("favorites")];case 1:return[2,t.sent()]}}))}))}function o(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.post("favorites",{place_id:t})];case 1:return[2,e.sent()]}}))}))}function i(t,e,n){return u(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,c.post("favorites/custom",{name:t,location:e,address:n})];case 1:return[2,r.sent()]}}))}))}function a(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.delete_("favorites",{place_id:t})];case 1:return[2,e.sent()]}}))}))}var u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var c=n(2);e.getFavorites=r,e.addPlaceToFavorites=o,e.addCustomPlaceToFavorites=i,e.removePlaceFromFavorites=a}),(function(t,e,n){"use strict";function r(){return u(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,c.getFavorites()];case 1:if(t=e.sent(),!t.data.hasOwnProperty("favorites"))throw new Error("Wrong API response");return[2,t.data.favorites.map((function(t){return t.place_id}))]}}))}))}function o(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.addPlaceToFavorites(t)];case 1:return e.sent(),[2]}}))}))}function i(t,e,n){return u(this,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return[4,c.addCustomPlaceToFavorites(t,e,n)];case 1:return r=o.sent(),[2,r.data.favorite.place_id]}}))}))}function a(t){return u(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.removePlaceFromFavorites(t)];case 1:return e.sent(),[2]}}))}))}var u=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var c=n(55);e.getFavoritesIds=r,e.addPlaceToFavorites=o,e.addCustomPlaceToFavorites=i,e.removePlaceFromFavorites=a}),(function(t,e,n){"use strict";function r(t,e){var n=t.east-t.west;return Math.round(Math.log(360*e/n/256)/Math.LN2)}Object.defineProperty(e,"__esModule",{value:!0}),e.getZoomFromBounds=r}),(function(t,e,n){"use strict";function r(t,e){var n=256,r=(t.lng+180)/360,o=Math.sin(t.lat*Math.PI/180),i=.5-Math.log((1+o)/(1-o))/(4*Math.PI),u=n<<e,s=a(r*u+.5,0,u-1)/n,c=a(i*u+.5,0,u-1)/n;return{x:Math.floor(s),y:Math.floor(c)}}function o(t,e,n){var r=e.north-t.lat,o=t.lng-e.west,i=n.height/Math.abs(e.south-e.north),a=n.width/Math.abs(e.west-e.east);return e.west>e.east&&(a=n.width/Math.abs(180-e.west+180+e.east),t.lng<0&&t.lng<e.east&&(o=180-e.west+180+t.lng),t.lng>0&&t.lng<e.west&&(o=180-e.west+180+t.lng)),{x:Math.round(o*a),y:Math.round(r*i)}}function i(t){var e=Math.abs(t);return e>360&&(e-=360*Math.floor(e/360)),e>180&&(e-=360),t<0?e*-1:e}Object.defineProperty(e,"__esModule",{value:!0}),e.locationToTileCoordinate=r,e.locationToCanvasCoordinate=o,e.normalizeLng=i;var a=function(t,e,n){return Math.max(e,Math.min(t,n))}}),(function(t,e,n){"use strict";function r(t,e){if(t=Object.assign({},t),t.west=o.normalizeLng(t.west),t.east=o.normalizeLng(t.east),t.west>t.east){var n={south:t.south,west:t.west,north:t.north,east:179.99999},i={south:t.south,west:-180,north:t.north,east:t.east};return r(n,e).concat(r(i,e))}for(var a=o.locationToTileCoordinate({lat:t.north,lng:t.east},e),u=o.locationToTileCoordinate({lat:t.south,lng:t.west},e),s={x:a.x,y:a.y},c=[];s.y<=u.y;){for(;s.x>=u.x;){for(var l="",f=e;f>0;f--){var p=0,d=1<<f-1;0!=(s.x&d)&&(p+=1),0!=(s.y&d)&&(p+=2),l+=p.toString()}c.push(l),s.x-=1}s.y+=1,s.x=a.x}return c}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.boundsToMapTileKeys=r}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EARTH_RADIUS=6378137,e.getDistance=function(t,e,n){var r=t.lat*Math.PI/180,o=t.lng*Math.PI/180,i=e.lat*Math.PI/180,a=e.lng*Math.PI/180;return Math.round(Math.acos(Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(a-o))*n)}}),(function(t,e,n){"use strict";function r(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,f.getPlaces(t)];case 1:if(e=n.sent(),!e.data.hasOwnProperty("places"))throw new Error("Wrong API response");return[2,h.mapPlaceApiResponseToPlaces(e.data.places)]}}))}))}function o(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return c(this,(function(i){switch(i.label){case 0:return n=null,[4,p.placesDetailedCache.get(t)];case 1:return r=i.sent(),r?[3,4]:[4,d.get("places/"+t)];case 2:if(o=i.sent(),!o.data.hasOwnProperty("place"))throw new Error("Wrong API response");return n=o.data.place,[4,p.placesDetailedCache.set(t,n)];case 3:return i.sent(),[3,5];case 4:n=r,i.label=5;case 5:return[2,h.mapPlaceDetailedApiResponseToPlace(n,e)]}}))}))}function i(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,a=this;return c(this,(function(l){switch(l.label){case 0:return n=[],r=[],o=[],[4,Promise.all(t.map((function(t){return s(a,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return[4,p.placesDetailedCache.get(t)];case 1:return e=r.sent(),e?n.push(e):o.push(t),[2]}}))}))})))];case 1:return l.sent(),o.length>0?[4,u(o)]:[3,4];case 2:return r=l.sent(),[4,Promise.all(r.map((function(t){return s(a,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,p.placesDetailedCache.set(t.id,t)];case 1:return e.sent(),[2]}}))}))})))];case 3:l.sent(),l.label=4;case 4:return i=t.map((function(t){var e=n.filter((function(e){return e.id===t}));return e[0]?e[0]:r.filter((function(e){return e.id===t}))[0]})),[2,h.mapPlaceDetailedBatchApiResponseToPlaces(i,e)]}}))}))}function a(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,d.get("places/"+t+"/media")];case 1:if(e=n.sent(),!e.data.hasOwnProperty("media"))throw new Error("Wrong API response");return[2,e.data.media.map((function(t){return t}))]}}))}))}function u(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,d.get("places?"+l.stringify({ids:t.join("|")}))];case 1:if(e=n.sent(),!e.data.hasOwnProperty("places"))throw new Error("Wrong API response");return[2,e.data.places]}}))}))}var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var l=n(16),f=n(49),p=n(5),d=n(2),h=n(63);e.getPlaces=r,e.getPlaceDetailed=o,e.getPlaceDetailedBatch=i,e.getPlaceMedia=a}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(46);!(function(t){t[t.AND=0]="AND",t[t.OR=1]="OR"})(r=e.LogicalOperator||(e.LogicalOperator={}));var i=(function(){function t(t){this._query=t.query,this._mapTile=t.mapTile,this._mapSpread=t.mapSpread,this._categories=t.categories,this._categoriesOperator=t.categoriesOperator?t.categoriesOperator:r.AND,this._tags=t.tags,this._tagsOperator=t.tagsOperator?t.tagsOperator:r.AND,this._parents=t.parents,this._parentsOperator=t.parentsOperator?t.parentsOperator:r.AND,this._level=t.level,this._limit=t.limit,this._bounds=t.bounds,this._zoom=t.zoom,this.validate()}return Object.defineProperty(t.prototype,"mapSpread",{get:function(){return this._mapSpread||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds||null},enumerable:!0,configurable:!0}),t.prototype.cloneSetBounds=function(t){var e=Object.create(this);return Object.assign(e,this,{_bounds:t})},t.prototype.cloneSetLimit=function(t){var e=Object.create(this);return Object.assign(e,this,{_limit:t})},t.prototype.cloneSetMapTile=function(t){var e=Object.create(this);return Object.assign(e,this,{_mapTile:t})},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom||null},enumerable:!0,configurable:!0}),t.prototype.toQueryString=function(){var t={};return this._query&&(t.query=this._query),this._mapTile&&(t.map_tile=this._mapTile),this._mapSpread&&(t.map_spread=this._mapSpread),this._categories&&this._categories.length>0&&(t.categories=this._categories.join(this._categoriesOperator===r.AND?",":"|")),this._tags&&this._tags.length>0&&(t.tags=this._tags.join(this._tagsOperator===r.AND?",":"|")),this._parents&&this._parents.length>0&&(t.parents=this._parents.join(this._parentsOperator===r.AND?",":"|")),this._level&&(t.level=this._level),this._limit&&(t.limit=this._limit),this._bounds&&(t.bounds=this._bounds.south+","+this._bounds.west+","+this._bounds.north+","+this._bounds.east),o.stringify(t)},t.prototype.validate=function(){if(this._mapSpread){if(this._limit)throw new Error("Do not use limit with mapSpread.");if(!this._bounds)throw new Error("Bounds must be specified when calling with mapSpread.");if(!this._zoom)throw new Error("Zoom must be specified when calling with mapSpread.")}},t})();e.PlacesFilter=i}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o="300x300";e.mapPlaceApiResponseToPlaces=function(t){return t.map((function(t){return i(t,null)}))},e.mapPlaceDetailedApiResponseToPlace=function(t,e){return i(t,a(t,e))},e.mapPlaceDetailedBatchApiResponseToPlaces=function(t,e){return t.map((function(t){return i(t,a(t,e))}))};var i=function(t,e){return{id:t.id,level:t.level,rating:t.rating,location:t.location,quadkey:t.quadkey,name:t.name,nameSuffix:t.name_suffix,boundingBox:t.bounding_box,perex:t.perex,url:t.url,thumbnailUrl:t.thumbnail_url,price:t.price,marker:t.marker,categories:t.categories,parents:t.parent_ids,detail:e}},a=function(t,n){var o=t.tags.map((function(t){return r.camelizeKeys(t)})),i=t.description?r.camelizeKeys(t.description):null,a=t.references.map((function(t){return r.camelizeKeys(t)}));return{tags:o,address:t.address,admission:t.admission,description:i,email:t.email,duration:t.duration,openingHours:t.opening_hours,phone:t.phone,media:e.mapMainMediaToMedia(r.camelizeKeys(t.main_media),n),references:a}};e.mapMainMediaToMedia=function(t,e){var n={square:null,videoPreview:null,portrait:null,landscape:null};return t&&Object.keys(t.usage).forEach((function(r){var i=t.usage[r];n[r]=t.media.reduce((function(t,n){return n.id===i?(n.urlTemplate=n.urlTemplate.replace(/{size}/i,e||o),n):t}),null)})),n}}),(function(t,e,n){"use strict";function r(t){return i(this,void 0,void 0,(function(){var e,n,r,i;return a(this,(function(a){switch(a.label){case 0:return e=t.map(f),[4,s.routesCache.getBatchMap(e)];case 1:return n=a.sent(),r=e.map((function(t){return n.get(t)})),[4,o(t.filter((function(t,e){return!r[e]})))];case 2:return i=a.sent(),[2,r.map((function(t){return null===t?i.shift():t})).map((function(e,n){var r=u.Mapper.mapRouteFromApiResponse(e,t[n].avoid,t[n].chosenMode,t[n].type);return r.modeDirections.push({mode:"plane",directions:[l.estimatePlaneDirection(r.origin,r.destination)]}),r.chosenDirection=u.Mapper.choseDirection(r.modeDirections,t[n].chosenMode,t[n].type),r}))]}}))}))}function o(t){return i(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return e=t.map((function(t){return{origin:t.origin,destination:t.destination,waypoints:t.waypoints,avoid:t.avoid,type:t.type}})),[4,c.post("/directions/path",e)];case 1:return n=r.sent(),n.data.path.map((function(e,n){s.routesCache.set(f(t[n]),e)})),[2,n.data.path]}}))}))}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var u=n(7),s=n(5),c=n(2),l=n(65);e.getRoutes=r;var f=function(t){var e=[];return e.push(t.type),e.push(t.origin.lat.toString()),e.push(t.origin.lng.toString()),e.push(t.destination.lat.toString()),e.push(t.destination.lng.toString()),e.push(t.avoid.join("-")),t.waypoints&&e.push(t.waypoints.map((function(t){return t.lat.toString()+"-"+t.lng.toString()})).join("-")),e.join("-")}}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42),o=n(1);e.estimatePlaneDirection=function(t,e){var n=o.getDistance(t,e,o.EARTH_RADIUS);return{distance:n,duration:Math.round(n/800*3.6+10800),polyline:r.encode([[t.lat,t.lng],[e.lat,e.lng]]),mode:"plane",type:"fastest",avoid:[],source:"estimator",isoCodes:[]}}}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(7),i={driving:"car",walking:"pedestrian"},a=["plane","car","pedestrian"];e.mapRouteFromApiResponse=function(t,n,o,u){var s=r.camelizeKeys(t);s.directions=s.directions.map((function(t){return t.mode=i[t.mode]?i[t.mode]:t.mode,t.type||(t.type="car"===t.mode?u:null),t.avoid||(t.avoid="car"===t.mode?n:[]),t})),s.modeDirections=s.directions.reduce((function(t,e){var n=t.find((function(t){return t.mode===e.mode}));return n||(n={mode:e.mode,directions:[]},t.push(n)),n.directions.push(e),t}),[]).sort((function(t,e){var n=a.indexOf(t.mode),r=a.indexOf(e.mode);return n<r?1:n>r?-1:0})),delete s.directions;var c=s;return c.chosenDirection=e.choseDirection(c.modeDirections,o,u),c},e.createRouteRequest=function(t,e,n){var r=t.transportFromPrevious&&t.transportFromPrevious.mode;return{origin:n,destination:e,waypoints:t.transportFromPrevious?t.transportFromPrevious.waypoints:[],avoid:t.transportFromPrevious?t.transportFromPrevious.avoid:[],type:t.transportFromPrevious?t.transportFromPrevious.type:"fastest",chosenMode:r?r:o.ModeSelector.selectOptimalMode(n,e)}},e.choseDirection=function(t,e,n){return t.reduce((function(t,r){if((null===t||r.mode===e&&!n)&&(t=r.directions[0]),r.mode===e&&n){var o=r.directions.find((function(t){return n===t.type}));o&&(t=o)}return t}),null)}}),(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.selectOptimalMode=function(t,e){var n=r.getDistance(t,e,r.EARTH_RADIUS);return n<=5e3?"pedestrian":n<=1e6?"car":"plane"},e.getAvailableModes=function(t,e){var n=r.getDistance(t,e,r.EARTH_RADIUS),o=[];return n<=5e4&&o.push("pedestrian"),n<=2e6&&o.push("car"),n>5e4&&o.push("plane"),o}}),(function(t,e,n){"use strict";function r(t,e,n,r){return t.reduce((function(t,o){return i(t,o,e,n,r)}),{hidden:[],visible:[]})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.spread=r;var i=function(t,e,n,r,i){if(!e.location)return t.hidden.push(e),t;for(var u=o.locationToCanvasCoordinate(e.location,r,i),s=0,c=n;s<c.length;s++){var l=c[s];if((!l.photoRequired||e.thumbnailUrl)&&!(l.minimalRating&&e.rating<=l.minimalRating||a(l,u,t.visible)))return t.visible.push({place:e,coordinate:u,size:l}),t}return t.hidden.push(e),t},a=function(t,e,n){for(var r,o=t.radius,i=0,a=n;i<a.length;i++){var u=a[i],s=t.margin>u.size.margin?t.margin:u.size.margin;if(r=u.size.radius,Math.pow(e.x-u.coordinate.x,2)+Math.pow(e.y-u.coordinate.y,2)<=Math.pow(o+r+s,2))return!0}return!1}}),(function(t,e,n){"use strict";function r(t,e,n,r){return r||(r=i.getConfig(e,n)),a.spread(t,r,e,n)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17);e.getConfig=o.getConfig;var i=n(17),a=n(68);e.spread=r}),(function(t,e,n){"use strict";function r(t,e){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return[4,l.get("trips/list?"+s.stringify({from:t,to:e}))];case 1:if(n=r.sent(),!n.data.hasOwnProperty("trips"))throw new Error("Wrong API response");return[2,f.mapTripListApiResponseToTripsList(n.data.trips)]}}))}))}function o(t){return a(this,void 0,void 0,(function(){var e,n,r;return u(this,(function(o){switch(o.label){case 0:return e=null,[4,c.tripsDetailedCache.get(t)];case 1:return n=o.sent(),n?[3,3]:[4,l.get("trips/"+t)];case 2:if(r=o.sent(),!r.data.hasOwnProperty("trip"))throw new Error("Wrong API response");return e=r.data.trip,c.tripsDetailedCache.set(t,e),[3,4];case 3:e=n,o.label=4;case 4:return[2,f.mapTripDetailedApiResponseToTrip(e)]}}))}))}function i(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=f.mapTripToApiResponse(t),[4,c.tripsDetailedCache.set(t.id,e)];case 1:return n.sent(),[2,t]}}))}))}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),c=n(5),l=n(2),f=n(18);e.getTrips=r,e.getTripDetailed=o,e.updateTrip=i}),(function(t,e,n){"use strict";function r(t){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.endsOn)throw new Error("endsOn property in Trip cannot be null");var e=f(t);return e.days.push({itinerary:[],note:null,date:null}),e.endsOn=e.endsOn?p.addDaysToDate(e.endsOn,1):e.endsOn,e.days=d.decorateDaysWithDate(e.startsOn,e.days),e}function o(t){if(!t.days)throw new Error("days property in Trip cannot be null");var e=f(t);return e.days.unshift({itinerary:[],note:null,date:null}),e.startsOn=p.subtractDaysFromDate(e.startsOn,1),e.days=d.decorateDaysWithDate(e.startsOn,e.days),e}function i(t,e){if(!t.days)throw new Error("days property in Trip cannot be null");if(t.days.length<e)throw new Error("Invalid dayIndex");var n=f(t);return 0===e&&n.startsOn?n.startsOn=p.addDaysToDate(n.startsOn,1):n.endsOn=p.subtractDaysFromDate(n.endsOn,1),n.days.splice(e,1),n.days=d.decorateDaysWithDate(n.startsOn,n.days),n}function a(t,e,n){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.days[e])throw new Error("Invalid firstDayIndex");if(!t.days[n])throw new Error("Invalid secondDayIndex");var r=f(t),o=r.days[e],i=r.days[n];return r.days[e]=i,r.days[n]=o,r}function u(t,e,n,r){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.days[e])throw new Error("Invalid dayIndex");if(n&&!t.days[e].itinerary[n])throw new Error("Invalid itemIndex");var o=f(t);return o.days[e].itinerary[n].transportFromPrevious=r,o}function s(t,e,n,r){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.days[n])throw new Error("Invalid dayIndex");if(r&&!t.days[n].itinerary[r])throw new Error("Invalid positionInDay");var o=f(t),i={place:e,placeId:e.id,startTime:null,duration:null,note:null,transportFromPrevious:null};return r?o.days[n].itinerary.splice(r,0,i):o.days[n].itinerary.push(i),o}function c(t,e,n,r){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.days[e])throw new Error("Invalid dayIndex");if(!t.days[e].itinerary[n])throw new Error("Invalid positionFrom");if(!t.days[e].itinerary[r])throw new Error("Invalid positionTo");var o=f(t),i=o.days[e].itinerary[n];return o.days[e].itinerary.splice(n,1),o.days[e].itinerary.splice(r,0,i),o}function l(t,e,n){if(!t.days)throw new Error("days property in Trip cannot be null");if(!t.days[e])throw new Error("Invalid dayIndex");if(!t.days[e].itinerary[n])throw new Error("Invalid positionInDay");var r=f(t);return r.days[e].itinerary.splice(n,1),r}Object.defineProperty(e,"__esModule",{value:!0});var f=n(15),p=n(9),d=n(19);e.addDay=r,e.prependDayToTrip=o,e.removeDayFromTrip=i,e.swapDaysInTrip=a,e.setTransport=u,e.addPlaceToDay=s,e.movePlaceInDay=c,e.removePlaceFromDay=l}),(function(t,e,n){"use strict";function r(t){return"string"==typeof t&&u[t]===t}function o(t){return"string"==typeof t&&s[t]===t}function i(t){return"string"==typeof t&&c[t]===t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),u=a.listToEnum(["car","pedestrian","bike","plane","bus","train","boat"]);e.isTransportMode=r;var s=a.listToEnum(["fastest","shortest","economic"]);e.isTransportType=o;var c=a.listToEnum(["tolls","highway","ferries","unpaved"]);e.isTransportAvoid=i}),(function(t,e,n){"use strict";function r(t){return f(this,void 0,void 0,(function(){var n;return p(this,(function(r){switch(r.label){case 0:return[4,e.axiosInstance.get(t,u(t))];case 1:return n=r.sent(),[2,l(n)]}}))}))}function o(t,n){return f(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return[4,e.axiosInstance.post(t,n,u(t))];case 1:return r=o.sent(),[2,l(r)]}}))}))}function i(t,n){return f(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return[4,e.axiosInstance.delete(t,u(t,n))];case 1:return r=o.sent(),[2,l(r)]}}))}))}function a(t,n){return f(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return[4,e.axiosInstance.put(t,n,u(t))];case 1:return r=o.sent(),[2,l(r)]}}))}))}function u(t,e){var n={baseURL:s(t),headers:c()};return e&&(n.data=e),n}function s(t){var e=h.getApiUrl(),n=h.getApiKey();return n&&t.indexOf("places")<0&&(e+=n),e}function c(){var t=h.getAccessToken(),e={},n=h.getClientKey();return n&&(e["x-api-key"]=n),t&&(e.Authorization="Bearer "+t),e}function l(t){return new y.ApiResponse(t.data.status_code,t.data.data)}var f=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u};Object.defineProperty(e,"__esModule",{value:!0});var d=n(23),h=n(8),y=n(21);e.axiosInstance=d.default.create(),e.axiosInstance.interceptors.request.use((function(t){if(!t.baseURL)throw new Error("API Url not set");return t})),e.get=r,e.post=o,e.delete_=i,e.put=a}),(function(t,e){var n;n=(function(){return this})();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}),(function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}),(function(t,e,n){"use strict";function r(t,e){return new o.default(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(22);e.create=r})])}));